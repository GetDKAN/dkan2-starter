{"ast":null,"code":"var $ = require('cheerio');\n\nfunction excerpts(html, opts) {\n  html = String(html);\n  opts = prepare(opts);\n  var text = $('<p>').html(html).text().trim().replace(/(\\r\\n|\\r|\\n|\\s)+/g, ' ');\n  var excerpt = '';\n\n  if (opts.characters != null) {\n    excerpt = text.slice(0, opts.characters);\n  }\n\n  if (opts.words != null) {\n    excerpt = text.split(' ').slice(0, opts.words).join(' ');\n  }\n\n  if (excerpt.length < text.length) {\n    excerpt += opts.append;\n  }\n\n  return excerpt;\n}\n\nfunction prepare(opts) {\n  opts = opts || {};\n\n  if (opts.append == null) {\n    opts.append = '...';\n  }\n\n  if (!opts.words && !opts.characters) {\n    opts.words = 50;\n  }\n\n  if (opts.words && opts.characters) {\n    delete opts.characters;\n  }\n\n  if (opts.words != null) {\n    opts.words = parseInt(opts.words, 10);\n  }\n\n  if (opts.characters != null) {\n    opts.characters = parseInt(opts.characters, 10);\n  }\n\n  return opts;\n}\n\nmodule.exports = excerpts;","map":{"version":3,"sources":["/var/www/data-catalog-frontend/src/lib/data-catalog-components/node_modules/excerpts/index.js"],"names":["$","require","excerpts","html","opts","String","prepare","text","trim","replace","excerpt","characters","slice","words","split","join","length","append","parseInt","module","exports"],"mappings":"AAAA,IAAIA,CAAC,GAAGC,OAAO,CAAC,SAAD,CAAf;;AAEA,SAASC,QAAT,CAAkBC,IAAlB,EAAwBC,IAAxB,EAA8B;AAC5BD,EAAAA,IAAI,GAAGE,MAAM,CAACF,IAAD,CAAb;AACAC,EAAAA,IAAI,GAAGE,OAAO,CAACF,IAAD,CAAd;AAEA,MAAIG,IAAI,GAAGP,CAAC,CAAC,KAAD,CAAD,CAASG,IAAT,CAAcA,IAAd,EAAoBI,IAApB,GAA2BC,IAA3B,GACRC,OADQ,CACA,mBADA,EACqB,GADrB,CAAX;AAGA,MAAIC,OAAO,GAAG,EAAd;;AAEA,MAAIN,IAAI,CAACO,UAAL,IAAmB,IAAvB,EAA6B;AAC3BD,IAAAA,OAAO,GAAGH,IAAI,CAACK,KAAL,CAAW,CAAX,EAAcR,IAAI,CAACO,UAAnB,CAAV;AACD;;AAED,MAAIP,IAAI,CAACS,KAAL,IAAc,IAAlB,EAAwB;AACtBH,IAAAA,OAAO,GAAGH,IAAI,CAACO,KAAL,CAAW,GAAX,EAAgBF,KAAhB,CAAsB,CAAtB,EAAyBR,IAAI,CAACS,KAA9B,EAAqCE,IAArC,CAA0C,GAA1C,CAAV;AACD;;AAED,MAAIL,OAAO,CAACM,MAAR,GAAiBT,IAAI,CAACS,MAA1B,EAAkC;AAChCN,IAAAA,OAAO,IAAIN,IAAI,CAACa,MAAhB;AACD;;AAED,SAAOP,OAAP;AACD;;AAED,SAASJ,OAAT,CAAiBF,IAAjB,EAAuB;AACrBA,EAAAA,IAAI,GAAGA,IAAI,IAAI,EAAf;;AAEA,MAAIA,IAAI,CAACa,MAAL,IAAe,IAAnB,EAAyB;AACvBb,IAAAA,IAAI,CAACa,MAAL,GAAc,KAAd;AACD;;AAED,MAAI,CAACb,IAAI,CAACS,KAAN,IAAe,CAACT,IAAI,CAACO,UAAzB,EAAqC;AACnCP,IAAAA,IAAI,CAACS,KAAL,GAAa,EAAb;AACD;;AAED,MAAIT,IAAI,CAACS,KAAL,IAAcT,IAAI,CAACO,UAAvB,EAAmC;AACjC,WAAOP,IAAI,CAACO,UAAZ;AACD;;AAED,MAAIP,IAAI,CAACS,KAAL,IAAc,IAAlB,EAAwB;AACtBT,IAAAA,IAAI,CAACS,KAAL,GAAaK,QAAQ,CAACd,IAAI,CAACS,KAAN,EAAa,EAAb,CAArB;AACD;;AAED,MAAIT,IAAI,CAACO,UAAL,IAAmB,IAAvB,EAA6B;AAC3BP,IAAAA,IAAI,CAACO,UAAL,GAAkBO,QAAQ,CAACd,IAAI,CAACO,UAAN,EAAkB,EAAlB,CAA1B;AACD;;AAED,SAAOP,IAAP;AACD;;AAEDe,MAAM,CAACC,OAAP,GAAiBlB,QAAjB","sourcesContent":["var $ = require('cheerio');\n\nfunction excerpts(html, opts) {\n  html = String(html);\n  opts = prepare(opts);\n\n  var text = $('<p>').html(html).text().trim()\n    .replace(/(\\r\\n|\\r|\\n|\\s)+/g, ' ');\n\n  var excerpt = '';\n\n  if (opts.characters != null) {\n    excerpt = text.slice(0, opts.characters);\n  }\n\n  if (opts.words != null) {\n    excerpt = text.split(' ').slice(0, opts.words).join(' ');\n  }\n\n  if (excerpt.length < text.length) {\n    excerpt += opts.append;\n  }\n\n  return excerpt;\n}\n\nfunction prepare(opts) {\n  opts = opts || {};\n\n  if (opts.append == null) {\n    opts.append = '...';\n  }\n\n  if (!opts.words && !opts.characters) {\n    opts.words = 50;\n  }\n\n  if (opts.words && opts.characters) {\n    delete opts.characters;\n  }\n\n  if (opts.words != null) {\n    opts.words = parseInt(opts.words, 10);\n  }\n\n  if (opts.characters != null) {\n    opts.characters = parseInt(opts.characters, 10);\n  }\n\n  return opts;\n}\n\nmodule.exports = excerpts;\n"]},"metadata":{},"sourceType":"module"}